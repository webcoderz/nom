version: '3.5'

services:

  caddy-reverse-proxy:
      image: caddy:2
      volumes:
        - ./data/caddy/Caddyfile:/etc/caddy/Caddyfile
      ports:
        - 443:443
      networks:
          - grph_net
      logging:
        options:
          tag: 'ImageName:{{.ImageName}}/Name:{{.Name}}/ID:{{.ID}}/ImageFullID:{{.ImageFullID}}'



  nominatim-rest_api:
      build: .
      networks:
          - grph_net
      restart: unless-stopped
      ports:
        - "80:8080"
      volumes:
        - ./data/nominatim-data:/data:z



networks:
  grph_net:
    name: grph_net
    ipam:
      driver: default

