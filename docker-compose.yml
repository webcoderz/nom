version: '3.4'

services:

  nominatim-rest_api:
      build: .
      tty: true
      networks:
         - inbound
      restart: unless-stopped
      ports:
        - "7070:8080"
        - "6432:5432"
      volumes:
        - ./data/nominatim-data:/data
      environment:
        - ENABLE_IMPORT=True
      logging:
        options:
          tag: 'ImageName:{{.ImageName}}/Name:{{.Name}}/ID:{{.ID}}/ImageFullID:{{.ImageFullID}}'
  caddy:
      image: caddy:2-alpine
      volumes:
        - ./data/caddy/Caddyfile:/etc/caddy/Caddyfile
        - ./data/caddy/data:/data
        - ./data/caddy/config:/config
      ports:
        - 80:80
        - 443:443
      networks:
          - inbound



networks:
  inbound:

